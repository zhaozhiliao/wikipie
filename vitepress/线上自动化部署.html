<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>线上自动化部署 | 个人知识库</title>
    <meta name="description" content="个人知识库网站">
    <meta name="generator" content="VitePress v1.0.0-rc.31">
    <link rel="preload stylesheet" href="/wikipie/assets/style.vC9Z3riG.css" as="style">
    
    <script type="module" src="/wikipie/assets/app.T6f3Z1PK.js"></script>
    <link rel="preload" href="/wikipie/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/wikipie/assets/chunks/framework.rW_MhUre.js">
    <link rel="modulepreload" href="/wikipie/assets/chunks/theme.lrYSx_KW.js">
    <link rel="modulepreload" href="/wikipie/assets/vitepress_线上自动化部署.md.PzWKx3P3.lean.js">
    <link rel="icon" href="/logo.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-90fb2dd6><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ad077f4f></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ad077f4f> Skip to content </a><!--]--><!----><header class="VPNav" data-v-90fb2dd6 data-v-44502480><div class="VPNavBar has-sidebar" data-v-44502480 data-v-55a6afd9><div class="container" data-v-55a6afd9><div class="title" data-v-55a6afd9><div class="VPNavBarTitle has-sidebar" data-v-55a6afd9 data-v-f72e8a91><a class="title" href="/wikipie/" data-v-f72e8a91><!--[--><!--]--><!--[--><img class="VPImage logo" src="/wikipie/logo.png" alt data-v-a951ad8c><!--]--><!--[-->Hypothesis<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-55a6afd9><div class="curtain" data-v-55a6afd9></div><div class="content-body" data-v-55a6afd9><!--[--><!--]--><div class="VPNavBarSearch search" data-v-55a6afd9><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-55a6afd9 data-v-3fb674fd><span id="main-nav-aria-label" class="visually-hidden" data-v-3fb674fd>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wikipie/nav/" tabindex="0" data-v-3fb674fd data-v-b5b0190e><!--[--><span data-v-b5b0190e>导航</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wikipie/posts/" tabindex="0" data-v-3fb674fd data-v-b5b0190e><!--[--><span data-v-b5b0190e>博客</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wikipie/product/" tabindex="0" data-v-3fb674fd data-v-b5b0190e><!--[--><span data-v-b5b0190e>产品</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wikipie/marketing/" tabindex="0" data-v-3fb674fd data-v-b5b0190e><!--[--><span data-v-b5b0190e>营销系统</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wikipie/uidesign/" tabindex="0" data-v-3fb674fd data-v-b5b0190e><!--[--><span data-v-b5b0190e>设计工程</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wikipie/aigo/" tabindex="0" data-v-3fb674fd data-v-b5b0190e><!--[--><span data-v-b5b0190e>AI GO</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wikipie/web3/" tabindex="0" data-v-3fb674fd data-v-b5b0190e><!--[--><span data-v-b5b0190e>Web3</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wikipie/vitepress/" tabindex="0" data-v-3fb674fd data-v-b5b0190e><!--[--><span data-v-b5b0190e>Vitepress</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-3fb674fd data-v-8f874eb9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8f874eb9><span class="text" data-v-8f874eb9><!----><span data-v-8f874eb9>更多</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8f874eb9><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8f874eb9><div class="VPMenu" data-v-8f874eb9 data-v-ca9b8a39><div class="items" data-v-ca9b8a39><!--[--><!--[--><div class="VPMenuLink" data-v-ca9b8a39 data-v-d9f55aee><a class="VPLink link" href="/wikipie/good-list.html" data-v-d9f55aee><!--[-->好物推荐<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-ca9b8a39 data-v-d9f55aee><a class="VPLink link" href="/wikipie/about.html" data-v-d9f55aee><!--[-->关于我<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-55a6afd9 data-v-6f3fef9e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-6f3fef9e data-v-f2522945 data-v-8ad74246><span class="check" data-v-8ad74246><span class="icon" data-v-8ad74246><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-f2522945><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-f2522945><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-55a6afd9 data-v-4af90ae8 data-v-ee2837c2><!--[--><a class="VPSocialLink no-icon" href="https://twitter.com/lovern1314" aria-label="twitter" target="_blank" rel="noopener" data-v-ee2837c2 data-v-72f9508e><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.82 8.292a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-55a6afd9 data-v-a11af0d4 data-v-8f874eb9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8f874eb9><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8f874eb9><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8f874eb9><div class="VPMenu" data-v-8f874eb9 data-v-ca9b8a39><!----><!--[--><!--[--><!----><div class="group" data-v-a11af0d4><div class="item appearance" data-v-a11af0d4><p class="label" data-v-a11af0d4>Appearance</p><div class="appearance-action" data-v-a11af0d4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-a11af0d4 data-v-f2522945 data-v-8ad74246><span class="check" data-v-8ad74246><span class="icon" data-v-8ad74246><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-f2522945><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-f2522945><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-a11af0d4><div class="item social-links" data-v-a11af0d4><div class="VPSocialLinks social-links-list" data-v-a11af0d4 data-v-ee2837c2><!--[--><a class="VPSocialLink no-icon" href="https://twitter.com/lovern1314" aria-label="twitter" target="_blank" rel="noopener" data-v-ee2837c2 data-v-72f9508e><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.82 8.292a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-55a6afd9 data-v-3af3adbe><span class="container" data-v-3af3adbe><span class="top" data-v-3af3adbe></span><span class="middle" data-v-3af3adbe></span><span class="bottom" data-v-3af3adbe></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-90fb2dd6 data-v-7913bd7a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-7913bd7a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-7913bd7a><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-7913bd7a>目录</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-7913bd7a data-v-145a0252><button data-v-145a0252>返回顶部</button><!----></div></div><aside class="VPSidebar" data-v-90fb2dd6 data-v-2f86bc27><div class="curtain" data-v-2f86bc27></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-2f86bc27><span class="visually-hidden" id="sidebar-aria-label" data-v-2f86bc27> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-2f86bc27><section class="VPSidebarItem level-0 has-active" data-v-2f86bc27 data-v-a72a51c9><!----><div class="items" data-v-a72a51c9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a72a51c9 data-v-a72a51c9><div class="item" data-v-a72a51c9><div class="indicator" data-v-a72a51c9></div><a class="VPLink link link" href="/wikipie/vitepress/" data-v-a72a51c9><!--[--><p class="text" data-v-a72a51c9>什么是 VitePress？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a72a51c9 data-v-a72a51c9><div class="item" data-v-a72a51c9><div class="indicator" data-v-a72a51c9></div><a class="VPLink link link" href="/wikipie/vitepress/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B.html" data-v-a72a51c9><!--[--><p class="text" data-v-a72a51c9>快速上手</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a72a51c9 data-v-a72a51c9><div class="item" data-v-a72a51c9><div class="indicator" data-v-a72a51c9></div><a class="VPLink link link" href="/wikipie/vitepress/%E9%85%8D%E7%BD%AEfront-matter.html" data-v-a72a51c9><!--[--><p class="text" data-v-a72a51c9>配置front-matter</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a72a51c9 data-v-a72a51c9><div class="item" data-v-a72a51c9><div class="indicator" data-v-a72a51c9></div><a class="VPLink link link" href="/wikipie/vitepress/%E7%BA%BF%E4%B8%8A%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2.html" data-v-a72a51c9><!--[--><p class="text" data-v-a72a51c9>线上自动化部署</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-90fb2dd6 data-v-3903affd><div class="VPDoc has-sidebar has-aside" data-v-3903affd data-v-9748e054><!--[--><!--]--><div class="container" data-v-9748e054><div class="aside" data-v-9748e054><div class="aside-curtain" data-v-9748e054></div><div class="aside-container" data-v-9748e054><div class="aside-content" data-v-9748e054><div class="VPDocAside" data-v-9748e054 data-v-d1b1bccf><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-d1b1bccf data-v-5219d3a6><div class="content" data-v-5219d3a6><div class="outline-marker" data-v-5219d3a6></div><div class="outline-title" role="heading" aria-level="2" data-v-5219d3a6>目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-5219d3a6><span class="visually-hidden" id="doc-outline-aria-label" data-v-5219d3a6> Table of Contents for current page </span><ul class="root" data-v-5219d3a6 data-v-428a8fe8><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-d1b1bccf></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-9748e054><div class="content-container" data-v-9748e054><!--[--><!--]--><!----><main class="main" data-v-9748e054><div style="position:relative;" class="vp-doc _wikipie_vitepress_%E7%BA%BF%E4%B8%8A%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2" data-v-9748e054><div><h1 id="线上自动化部署" tabindex="-1">线上自动化部署 <a class="header-anchor" href="#线上自动化部署" aria-label="Permalink to &quot;线上自动化部署&quot;">​</a></h1><h2 id="简要说明" tabindex="-1">简要说明 <a class="header-anchor" href="#简要说明" aria-label="Permalink to &quot;简要说明&quot;">​</a></h2><p>本文主要用于记录如何在 github、vercel 和 netlify 上部署静态博客项目。最大的好处是无需服务器即可搭建网站，维护和运营成本较低。</p><p><strong>自定义域名托管服务比较</strong></p><p>以下是一些常见的自定义域名托管服务的比较，包括 Github Pages、Gitee Pages、GitLab Pages、Netlify、Vercel 和 Cloudflare Pages：</p><table><thead><tr><th>名称</th><th>自定义域名</th><th>限制</th><th>缺点</th></tr></thead><tbody><tr><td>Github Pages</td><td>支持</td><td>空间1G，100G/月</td><td>国内访问慢，百度不收录</td></tr><tr><td>Gitee Pages</td><td>收费</td><td>空间1G，100G/月</td><td>需实名，仓库审查</td></tr><tr><td>GitLab Pages</td><td>支持</td><td>-</td><td>国内访问慢</td></tr><tr><td>Netlify</td><td>支持</td><td>100G/月</td><td>从 GitHub、GitLab、BitBucket 拉取</td></tr><tr><td>Vercel</td><td>支持</td><td>100G/月</td><td>从 GitHub、GitLab、BitBucket 拉取</td></tr><tr><td>Cloudflare Pages</td><td>支持</td><td>-</td><td>从 GitHub、GitLab 拉取</td></tr></tbody></table><p>请注意，每个服务都有其独特的优势和限制。选择合适的服务取决于您的项目需求、性能要求和个人偏好。在做决定之前，建议仔细评估每个服务的特点。</p><h2 id="部署到-github-page-服务" tabindex="-1">部署到 Github Page 服务 <a class="header-anchor" href="#部署到-github-page-服务" aria-label="Permalink to &quot;部署到 Github Page 服务&quot;">​</a></h2><h3 id="创建-github-仓库" tabindex="-1">创建 Github 仓库 <a class="header-anchor" href="#创建-github-仓库" aria-label="Permalink to &quot;创建 Github 仓库&quot;">​</a></h3><p>这一步比较简单，直接在 <a href="https://github.com" target="_blank" rel="noreferrer">Github</a> 官网操作即可，该仓库用于存放项目文件，这里就不再赘述了。</p><h3 id="利用-github-actions" tabindex="-1">利用 GitHub Actions <a class="header-anchor" href="#利用-github-actions" aria-label="Permalink to &quot;利用 GitHub Actions&quot;">​</a></h3><p>GitHub Actions 是 GitHub 提供的一种自动化工作流服务。</p><p>首先在项目根目录下，创建 <code>.github/workflows/vitepress.yml</code>，这是 GitHub Actions 的配置文件，用于定义和配置 Vitepress 项目的自动化工作流。</p><p>该 YAML 文件主要包含了一系列指令和步骤，这些指令和步骤描述了 GitHub Actions 应该如何执行构建和部署 Vitepress 项目。</p><p>以下是我的 <code>vitepress.yml</code> 配置文件供你参考。将仓库名和仓库路径填入 <code>vitepress.yml</code> 中。</p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GitHub Actions Build and Deploy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 设置执行 GitHub Actions 的触发条件，当前为推送到 main 分支时触发构建</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  build-and-deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #指定服务器的运行环境：最新版本 ubuntu</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 设置 GitHub Actions 中设置环境变量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Set DEPLOY_ENV</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">echo &quot;DEPLOY_ENV=GH_PAGES&quot; &gt;&gt; $GITHUB_ENV</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 使用 actions/checkout@v4 库拉取代码到 ubuntu 上</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Checkout</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v4</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # 根据网上资料查询此处可以设置为 false。https://github.com/actions/checkout</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          persist-credentials</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 安装 pnpm</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Install pnpm</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm/action-setup@v2</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 设置 node 的版本</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Use Node.js</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # 使用 actions/setup-node@v3 库安装 nodejs，with 提供了一个参数 node-version 表示要安装的 nodejs 版本</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/setup-node@v3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          node-version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;18.x&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pnpm&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 打包成静态文件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Build</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm install &amp;&amp; pnpm run docs:build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 部署到 GitHub Pages - 也就是将打包内容发布到 GitHub Pages</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deploy</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">peaceiris/actions-gh-pages@v3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # 自定义环境变量</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          github_token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">${{secrets.your secrets Token}}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          publish_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./docs/.vitepress/dist</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 请根据您的实际情况调整路径</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # 指定仓库：你要发布的仓库路径名</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          repository-name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Your repositories/Your project</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # 部署到 deploy-pages 分支，也就是部署后提交到那个分支</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          branch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">deploy-pages</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # 填写打包好的目录名称路径，本项目配置在根目录</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          folder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dist</span></span></code></pre></div><p>每次你更新代码后，系统会自动给你打包上传并部署</p><h3 id="设置-your-secrets-token" tabindex="-1">设置 your secrets Token <a class="header-anchor" href="#设置-your-secrets-token" aria-label="Permalink to &quot;设置 your secrets Token&quot;">​</a></h3><p>上面 <code>vitepress.yml</code> 需要用到 <code>secrets Token</code>，按以下步骤创建即可。</p><ol><li><p>生成 <code>DeveloperToken</code></p><p>首先进入个人账户 setting 设置页面，点击 Developer settings，选择 Personal access tokens-Tokens （classic），创建 <code>token</code>。 这里要设置有效期和仓库读写权限。</p><p><img src="/wikipie/assets/image-0.5oZCLto0.png" alt="Alt text"></p><p>注意，创建完成后，记住这个值</p><p><img src="/wikipie/assets/image-2.FTgxMsiR.png" alt="Alt text"></p></li><li><p>设置 <code>Actions secrets</code></p><p>首先进入仓库 setting 页面，点击 Secrets and variables，选择 Actions，点击 New repository secret 进行创建。</p><p><img src="/wikipie/assets/image-1.j93nekJV.png" alt="Alt text"></p></li><li><p>将生成的 <code>Repository secrets</code>, 替换 <code>your secrets Token</code></p><p><img src="/wikipie/assets/image-3.wKEgf7Qp.png" alt="Alt text"></p></li></ol><h3 id="推送项目到仓库" tabindex="-1">推送项目到仓库 <a class="header-anchor" href="#推送项目到仓库" aria-label="Permalink to &quot;推送项目到仓库&quot;">​</a></h3><ol><li><p>创建 <code>.gitignore</code> 文件</p><p>在根目录下创建 <code>.gitignore</code> 文件，忽略特定文件夹，不上传到仓库。参考</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>node_modules/</span></span>
<span class="line"><span>dist/</span></span>
<span class="line"><span>pnpm-lock.yaml</span></span></code></pre></div></li><li><p>初始化本地仓库</p><p>打开终端（命令行界面），进入你的项目目录，并执行以下命令初始化本地仓库：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div></li><li><p>添加远程仓库地址</p><p>执行以下命令，将你的远程仓库地址添加为本地仓库的远程地址：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/YourRepositoriesAddress.git</span></span></code></pre></div><p>注意，请替换 <code>YourRepositoriesAddress</code> 为你的实际仓库地址。</p></li><li><p>添加文件，提交变更（依次执行）</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Initial commit&quot;</span></span></code></pre></div></li><li><p>推送到远程仓库</p><p>执行以下命令，将本地仓库的内容推送到远程仓库：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span></code></pre></div><p>如果你的默认分支是 <code>main</code>，如果是其他分支，请将上述命令中的 <code>main</code> 替换为你的默认分支名称。 以上步骤完成后，你的项目文件就会被推送到 GitHub 仓库中。之后，GitHub Actions 就会开始执行你配置的构建和部署任务。如果一切顺利，你的 VitePress 项目就会成功部署到 GitHub Pages。</p></li></ol><h3 id="设置-github-pages-服务" tabindex="-1">设置 GitHub Pages 服务 <a class="header-anchor" href="#设置-github-pages-服务" aria-label="Permalink to &quot;设置 GitHub Pages 服务&quot;">​</a></h3><p>进入项目仓库 setting 设置页，点击 pages，选择 branch 分支，根据我们的设置，部署完成后，项目生成的静态文件会存放到 gh-pages 分支下，因此需要将分支更改为 gh-pages。点击 save 保存。</p><p>至此，刷新页面，则生成了网站地址，可以进行访问了。也可以根据自己需要，自定义自己的域名。</p><h3 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h3><ol><li><p>访问网站发现样式丢失</p><p>这种情况需要检查你项目下，docs/.vitepress/config.mjs 文件。调整 base 的值。</p><div class="language-mjs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mjs</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>import { defineConfig } from &#39;vitepress&#39;</span></span>
<span class="line"><span>export default defineConfig ({</span></span>
<span class="line"><span> base: &#39;/YourRepositoryName/&#39;,  // 在 GitHub Pages 上部署时的基本路径</span></span>
<span class="line"><span> })</span></span></code></pre></div></li></ol><h2 id="部署到-vercel" tabindex="-1">部署到 Vercel <a class="header-anchor" href="#部署到-vercel" aria-label="Permalink to &quot;部署到 Vercel&quot;">​</a></h2><p><a href="https://vercel.com/" target="_blank" rel="noreferrer">Vercel 官方地址</a></p><p>在 Github 中新建一个仓库，然后将自己的博客系统代码提交到仓库中，这一步相信大家都会操作我就不重复了吧。在这一步将代码提交到 Github 的目的就是与 Vercel 关联，项目在 Vercel 中部署之后以后更新你的博客内容只需要将代码提交到 Github 中，然后 Vercel 就能实现自动部署。</p><ol><li>首先需要使用你自己的 Github 账号来登录 Vercel</li><li>点击新建项目来添加 Github 中的项目，选择对应的项目</li><li>点击导入按钮来导入要部署的项目</li><li>部署的配置一般使用默认的就行，输出的目录要改一下 <code>docs/.vitepress/dist</code></li><li>点击部署按钮开始部署等一会儿就部署好了，只要你在本地运行 <code>pnpm run docs:build</code> 命令能够打包成功那么部署也基本上没有问题的</li><li>部署成功之后 Vercel 会给你分配一个默认的域名，通过这个域名就能访问到自己的博客网站</li></ol><h2 id="部署到-netlify" tabindex="-1">部署到 Netlify <a class="header-anchor" href="#部署到-netlify" aria-label="Permalink to &quot;部署到 Netlify&quot;">​</a></h2><p><a href="https://netlify.com/" target="_blank" rel="noreferrer">Netlify 官方地址</a></p><p>使用 netlify 进行部署，和 vercel 基本一致，也要注意是否需要配置环境变量。 netlify 需要手动填写配置命令，示例</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>pnpm run docs:build</span></span>
<span class="line"><span>docs/.vitepress/dist</span></span></code></pre></div><p><img src="/wikipie/assets/image-4.HSBi1hxO.png" alt="Alt text"></p><h2 id="环境变量问题" tabindex="-1">环境变量问题 <a class="header-anchor" href="#环境变量问题" aria-label="Permalink to &quot;环境变量问题&quot;">​</a></h2><p>为了同时支持 Vercel、Netlify 和 GitHub Pages，您可以采取一些通用的配置策略，以确保在不同的部署平台上都能够正确地访问您的 VitePress 项目。以下是一些建议：</p><p>在 <code>vitepress/config.js</code> 或 <code>vitepress/config.ts</code> 中，您可以根据部署平台设置不同的<code>base</code>：</p><div class="language-mjs vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mjs</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>import { defineConfig } from &#39;vitepress&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default defineConfig({</span></span>
<span class="line"><span>  base: process.env.DEPLOY_ENV === &#39;VERCEL&#39;</span></span>
<span class="line"><span>    ? &#39;/wikipie/&#39;  // 在 Vercel 上部署时的基本路径</span></span>
<span class="line"><span>    : process.env.DEPLOY_ENV === &#39;NETLIFY&#39;</span></span>
<span class="line"><span>      ? &#39;/&#39;  // 在 Netlify 上部署时的基本路径</span></span>
<span class="line"><span>      : &#39;/wikipie/&#39;,  // 在 GitHub Pages 上部署时的基本路径</span></span>
<span class="line"><span>  // 其他配置...</span></span>
<span class="line"><span>})</span></span></code></pre></div><p>在上述示例中，我们使用了一个名为<code>DEPLOY_ENV</code>的环境变量，通过这个变量的值来确定部署环境。您可以在 GitHub Actions、Vercel 和 Netlify 中设置这个环境变量。</p><p><strong>在 GitHub Actions 中设置环境变量：</strong> 在您的 GitHub Actions workflow 文件中添加一个步骤来设置环境变量。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Set DEPLOY_ENV</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">echo &quot;DEPLOY_ENV=GH_PAGES&quot; &gt;&gt; $GITHUB_ENV</span></span></code></pre></div><p><strong>在 Vercel 中设置环境变量：</strong> 在 Vercel 控制台的项目设置中，找到 &quot;Build &amp; Development Settings&quot; 部分，添加一个名为<code>DEPLOY_ENV</code>的环境变量，并设置其值为<code>VERCEL</code>。</p><p><strong>在 Netlify 中设置环境变量：</strong> 在 Netlify 控制台的项目设置中，找到 &quot;Build &amp; Deploy&quot; 部分，添加一个名为 <code>DEPLOY_ENV</code>的环境变量，并设置其值为<code>NETLIFY</code>。</p><p><img src="/wikipie/assets/image-5.sWVrqjm5.png" alt="Alt text"></p><p>这样，通过在不同的部署平台上设置不同的<code>DEPLOY_ENV</code>环境变量，您的 VitePress 项目就可以在不同的环境中正确地设置<code>base</code>，以支持各种部署方案。</p></div></div></main><footer class="VPDocFooter" data-v-9748e054 data-v-96ad85ef><!--[--><!--]--><div class="edit-info" data-v-96ad85ef><!----><div class="last-updated" data-v-96ad85ef><p class="VPLastUpdated" data-v-96ad85ef data-v-0df17338>Last updated: <time datetime="2023-12-13T10:10:47.000Z" data-v-0df17338></time></p></div></div><nav class="prev-next" data-v-96ad85ef><div class="pager" data-v-96ad85ef><a class="VPLink link pager-link prev" href="/wikipie/vitepress/%E9%85%8D%E7%BD%AEfront-matter.html" data-v-96ad85ef><!--[--><span class="desc" data-v-96ad85ef>上一页</span><span class="title" data-v-96ad85ef>配置front-matter</span><!--]--></a></div><div class="pager" data-v-96ad85ef><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-90fb2dd6 data-v-622212e2><div class="container" data-v-622212e2><p class="message" data-v-622212e2>内容原创 - 严禁转载</p><p class="copyright" data-v-622212e2>MIT Licensed | Copyright © 2016-present zhaodong</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"good-list.md\":\"11Vv3BWM\",\"marketing_第四章 用户转化_4.奖励激励_1.优惠券_7.1.0优惠券系统.md\":\"l4HZfZLT\",\"marketing_第一章 流量与用户_用户_分层与分群.md\":\"usn4SvVR\",\"marketing_第四章 用户转化_3.营销工具_03deeplink.md\":\"fyzg_IiF\",\"designtoken_色彩_命名规范.md\":\"F3gFgFG_\",\"aigo_index.md\":\"nWyE-Gbn\",\"marketing_前言_系统设计.md\":\"quiGji7L\",\"product_index.md\":\"dLs1w2SB\",\"designtoken_色彩_简述.md\":\"4zmzBuXF\",\"marketing_第四章 用户转化_4.奖励激励_1.优惠券_7.1.1优惠券简介.md\":\"0XJcLYpp\",\"designtoken_index.md\":\"ilpwkYyl\",\"marketing_第五章 策略与活动_1.用户活动_04任务裂变.md\":\"Sys78u_B\",\"marketing_第一章 流量与用户_流量_流量分析.md\":\"qG0XhPEu\",\"posts_2023年_2023-10-11.md\":\"iUr2F1cj\",\"designtoken_色彩_色彩层级.md\":\"gDVf0Exv\",\"marketing_第一章 流量与用户_用户_用户信息化.md\":\"F40C2sP9\",\"marketing_第四章 用户转化_4.奖励激励_2.积分_7.2.0积分系统.md\":\"NlUOcjWr\",\"marketing_第一章 流量与用户_用户_用户画像.md\":\"f5AoiqAh\",\"marketing_第四章 用户转化_说明.md\":\"itjSal0A\",\"marketing_第四章 用户转化_3.营销工具_02二维码.md\":\"aF7z2Ul2\",\"marketing_第二章 用户触达_其他_02彩信.md\":\"sNG8nrnD\",\"marketing_第三章 营销策略_2.频控.md\":\"sFlgVruN\",\"marketing_第三章 营销策略_3.策略.md\":\"_NxR7dw2\",\"marketing_第二章 用户触达_push_前端设计.md\":\"jfRhzHa5\",\"posts_2023年_2023-10-13.md\":\"hWO1VeCX\",\"posts_2024年_2023-10-14.md\":\"E5R9znTB\",\"posts_index.md\":\"9jjxt_62\",\"product_about.md\":\"YDXweLEG\",\"index.md\":\"B4iLBnpv\",\"marketing_第五章 策略与活动_1.用户活动_02签到.md\":\"IO8-zreO\",\"marketing_第五章 策略与活动_1.用户活动_03助力.md\":\"kLVr4kFF\",\"marketing_第二章 用户触达_触达工具_5.5.1短链.md\":\"P--DcQDo\",\"marketing_第二章 用户触达_触达工具_5.5.2deeplink.md\":\"mU8UO8UL\",\"marketing_第二章 用户触达_简述.md\":\"dMR917TV\",\"marketing_第二章 用户触达_push_更多能力.md\":\"yFNuuUkc\",\"marketing_第二章 用户触达_push_概述.md\":\"dA2egY3y\",\"marketing_第六章 风控_1.营销风控.md\":\"FkAG7AY4\",\"uidesign_index.md\":\"L6RHyz_S\",\"uidesign_designexercise_index.md\":\"7VpedA0b\",\"marketing_第二章 用户触达_其他_01智能外呼.md\":\"h86aiv75\",\"web3_好文分享_web3漫游指南_02 第二章 比特币.md\":\"-Rh2rfH2\",\"aigo_应用.md\":\"k1y7-vJ-\",\"designtoken_色彩_交付.md\":\"nVNZc06U\",\"marketing_第四章 用户转化_4.奖励激励_1.优惠券_7.1.4券类活动.md\":\"RGqX4W8S\",\"marketing_第二章 用户触达_push_目录.md\":\"wjtkOxi1\",\"marketing_第二章 用户触达_push_后台设计.md\":\"jbSPS6AK\",\"marketing_前言_认识营销.md\":\"ZRhSJKB9\",\"web3_好文分享_web3漫游指南_01 第一章 残酷启示录.md\":\"5eWHshpM\",\"vitepress_index.md\":\"YanNWD62\",\"marketing_前言_由此开始.md\":\"CJJUXpvm\",\"marketing_第四章 用户转化_3.营销工具_01短链.md\":\"yXTMpkJx\",\"marketing_index.md\":\"jvMuG40p\",\"aigo_about.md\":\"-7L5FDqi\",\"web3_好文分享_4.国盛证券-区块链行业专题研究.md\":\"-UM7dmZQ\",\"vitepress_线上自动化部署.md\":\"PzWKx3P3\",\"designtoken_资源参考.md\":\"JUb4N8OU\",\"web3_about.md\":\"g0swcdWH\",\"posts_2023年_2023-10-12.md\":\"I9CBF_yY\",\"marketing_第四章 用户转化_4.奖励激励_4.其他_内容.md\":\"6YvjoxaI\",\"vitepress_快速上手.md\":\"ECrnyWEa\",\"web3_好文分享_web3漫游指南_09 第九章 后记.md\":\"vM2mONhT\",\"marketing_第二章 用户触达_触达工具_5.5.3二维码.md\":\"gXZYQ6-z\",\"web3_好文分享_2.在web3.0前夜展望未来.md\":\"RE1PgfGH\",\"nav_index.md\":\"7tJeGdPh\",\"marketing_第三章 营销策略_1.用户.md\":\"n25jZkmM\",\"marketing_第二章 用户触达_短信_01概述.md\":\"bWr_N1LV\",\"web3_好文分享_web3漫游指南_08 第八章 全球web3监管政策概览.md\":\"jYxB-qgR\",\"uidesign_designexercise_componentdesignexercise.md\":\"M7ZOY1IX\",\"web3_index.md\":\"kqzaTRWe\",\"web3_好文分享_web3漫游指南_04 第四章 dao可道，非常道.md\":\"2P88o6YB\",\"web3_好文分享_3.我对 web3 的第一印象.md\":\"WGmoo2_S\",\"vitepress_配置front-matter.md\":\"fqvZpEdN\",\"about.md\":\"m0LwyC86\",\"marketing_第五章 策略与活动_1.用户活动_01抽奖.md\":\"dFbo19RD\",\"uidesign_designexercise_pagedesignexercise.md\":\"YS3jT7l3\",\"web3_好文分享_web3漫游指南_07 第七章 nft-感性繁荣与理性涅槃.md\":\"2yEas9BT\",\"web3_好文分享_web3漫游指南_05 第五章 web3金融市场基础概览.md\":\"Ol-g4vgQ\",\"web3_好文分享_1.web3生存指南之防骗反诈安全手册v1.0版.md\":\"WGd11KM5\",\"marketing_第二章 用户触达_push_评估与优化.md\":\"kuSiJfYb\",\"web3_好文分享_web3漫游指南_06 第六章 defi-web3的脉搏.md\":\"kUDBNSZN\",\"web3_好文分享_web3漫游指南_03 第三章 多链争霸.md\":\"J8-Ka0dM\",\"product_youzanchanpinsheji.md\":\"q9-fL5vA\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"WikiPie\",\"titleTemplate\":\"个人知识库\",\"description\":\"个人知识库网站\",\"base\":\"/wikipie/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"siteTitle\":\"Hypothesis\",\"search\":{\"provider\":\"local\"},\"sidebarMenuLabel\":\"目录\",\"returnToTopLabel\":\"返回顶部\",\"outline\":[2,6],\"outlineTitle\":\"目录\",\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"nav\":[{\"text\":\"导航\",\"link\":\"/nav/\"},{\"text\":\"博客\",\"link\":\"/posts/\"},{\"text\":\"产品\",\"link\":\"/product/\"},{\"text\":\"营销系统\",\"link\":\"/marketing/\"},{\"text\":\"设计工程\",\"link\":\"/uidesign/\"},{\"text\":\"AI GO\",\"link\":\"/aigo/\"},{\"text\":\"Web3\",\"link\":\"/web3/\"},{\"text\":\"Vitepress\",\"link\":\"/vitepress/\"},{\"text\":\"更多\",\"items\":[{\"text\":\"好物推荐\",\"link\":\"/good-list\"},{\"text\":\"关于我\",\"link\":\"/about\"}]}],\"sidebar\":{\"/designToken/\":[{\"items\":[{\"text\":\"关于 DesignToken\",\"link\":\"/designToken/\"},{\"text\":\"色彩\",\"collapsed\":false,\"items\":[{\"text\":\"简述\",\"link\":\"/designToken/色彩/简述\"},{\"text\":\"色彩层级\",\"link\":\"/designToken/色彩/色彩层级\"},{\"text\":\"命名规范\",\"link\":\"/designToken/色彩/命名规范\"},{\"text\":\"交付\",\"link\":\"/designToken/色彩/交付\"}]},{\"text\":\"相关资源\",\"link\":\"/uidesign/设计系统/design-token-resource\"}]}],\"/uidesign/\":[{\"items\":[{\"text\":\"说明\",\"link\":\"/uidesign/designExercise/\"},{\"text\":\"小组件临摹\",\"link\":\"/uidesign/designExercise/componentDesignExercise\"},{\"text\":\"页面临摹\",\"link\":\"/uidesign/designExercise/pageDesignExercise\"}]}],\"/vitepress/\":[{\"items\":[{\"text\":\"什么是 VitePress？\",\"link\":\"/vitepress/\"},{\"text\":\"快速上手\",\"link\":\"/vitepress/快速上手\"},{\"text\":\"配置front-matter\",\"link\":\"/vitepress/配置front-matter\"},{\"text\":\"线上自动化部署\",\"link\":\"/vitepress/线上自动化部署\"}]}],\"/marketing/\":[{\"text\":\"前言\",\"collapsed\":true,\"items\":[{\"text\":\"由此开始\",\"link\":\"/marketing/前言/由此开始\"},{\"text\":\"认识营销\",\"link\":\"/marketing/前言/认识营销\"},{\"text\":\"系统设计\",\"link\":\"/marketing/前言/系统设计\"}]},{\"text\":\"第一章 流量与用户\",\"collapsed\":false,\"items\":[{\"text\":\"流量篇\",\"items\":[{\"text\":\"流量分析\",\"link\":\"/marketing/第一章 流量与用户/流量/流量分析\"}]},{\"text\":\"用户篇\",\"collapsed\":false,\"items\":[{\"text\":\"用户信息化\",\"link\":\"/marketing/第一章 流量与用户/用户信息化\"},{\"text\":\"用户画像\",\"link\":\"/marketing/第一章 流量与用户/用户画像\"},{\"text\":\"分层分群\",\"link\":\"/marketing/第一章 流量与用户/分层分群\"}]}]},{\"text\":\"第二章 用户触达\",\"collapsed\":false,\"items\":[{\"text\":\"Push\",\"items\":[{\"text\":\"目录\",\"link\":\"/marketing/第二章 用户触达/push/目录\"},{\"text\":\"概述\",\"link\":\"/marketing/第二章 用户触达/push/概述\"},{\"text\":\"前端设计\",\"link\":\"/marketing/第二章 用户触达/push/前端设计\"},{\"text\":\"后台设计\",\"link\":\"/marketing/第二章 用户触达/push/后台设计\"},{\"text\":\"更多能力\",\"link\":\"/marketing/第二章 用户触达/push/更多能力\"},{\"text\":\"评估与优化\",\"link\":\"/marketing/第二章 用户触达/push/评估与优化\"}]},{\"text\":\"短信\",\"collapsed\":false,\"items\":[{\"text\":\"用户信息化\",\"link\":\"/marketing/第一章 流量与用户/用户信息化\"},{\"text\":\"用户画像\",\"link\":\"/marketing/第一章 流量与用户/用户画像\"},{\"text\":\"分层分群\",\"link\":\"/marketing/第一章 流量与用户/分层分群\"}]},{\"text\":\"其他\",\"collapsed\":false,\"items\":[{\"text\":\"用户信息化\",\"link\":\"/marketing/第一章 流量与用户/用户信息化\"},{\"text\":\"用户画像\",\"link\":\"/marketing/第一章 流量与用户/用户画像\"},{\"text\":\"分层分群\",\"link\":\"/marketing/第一章 流量与用户/分层分群\"}]},{\"text\":\"触达工具\",\"collapsed\":false,\"items\":[{\"text\":\"用户信息化\",\"link\":\"/marketing/第一章 流量与用户/用户信息化\"},{\"text\":\"用户画像\",\"link\":\"/marketing/第一章 流量与用户/用户画像\"},{\"text\":\"分层分群\",\"link\":\"/marketing/第一章 流量与用户/分层分群\"}]}]},{\"text\":\"第三章 营销策略\",\"collapsed\":false,\"items\":[{\"text\":\"流量篇\",\"items\":[{\"text\":\"流量分析\",\"link\":\"/marketing/第一章 流量与用户/流量/流量分析\"}]},{\"text\":\"用户篇\",\"collapsed\":false,\"items\":[{\"text\":\"用户信息化\",\"link\":\"/marketing/第一章 流量与用户/用户信息化\"},{\"text\":\"用户画像\",\"link\":\"/marketing/第一章 流量与用户/用户画像\"},{\"text\":\"分层分群\",\"link\":\"/marketing/第一章 流量与用户/分层分群\"}]}]},{\"text\":\"第四章 用户转化\",\"collapsed\":false,\"items\":[{\"text\":\"流量篇\",\"items\":[{\"text\":\"流量分析\",\"link\":\"/marketing/第一章 流量与用户/流量/流量分析\"}]},{\"text\":\"用户篇\",\"collapsed\":false,\"items\":[{\"text\":\"用户信息化\",\"link\":\"/marketing/第一章 流量与用户/用户信息化\"},{\"text\":\"用户画像\",\"link\":\"/marketing/第一章 流量与用户/用户画像\"},{\"text\":\"分层分群\",\"link\":\"/marketing/第一章 流量与用户/分层分群\"}]}]},{\"text\":\"第五章 策略与活动\",\"collapsed\":false,\"items\":[{\"text\":\"流量篇\",\"items\":[{\"text\":\"流量分析\",\"link\":\"/marketing/第一章 流量与用户/流量/流量分析\"}]},{\"text\":\"用户篇\",\"collapsed\":false,\"items\":[{\"text\":\"用户信息化\",\"link\":\"/marketing/第一章 流量与用户/用户信息化\"},{\"text\":\"用户画像\",\"link\":\"/marketing/第一章 流量与用户/用户画像\"},{\"text\":\"分层分群\",\"link\":\"/marketing/第一章 流量与用户/分层分群\"}]}]}]},\"socialLinks\":[{\"icon\":\"twitter\",\"link\":\"https://twitter.com/lovern1314\"}],\"footer\":{\"message\":\"内容原创 - 严禁转载\",\"copyright\":\"MIT Licensed | Copyright © 2016-present zhaodong\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>